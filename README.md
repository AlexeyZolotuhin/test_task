# Тестовое задание

## 1. Техническое задание

Реализовать веб-приложение, которое представляет собой один API метод для получения списка определенных сотрудников.
Приложение должно быть асинхронным и реализовано с использованием FastAPI и MongoDB.

## 2. Описание API запроса

Получение определнного списка сотрудников осуществляется с помощью GET-запроса с телом в формате JSON с возможными полями:

```json
{
  "_id": "string",
  "name": "string",
  "email": "user@example.com",
  "age": 0,
  "company": "string",
  "join_date": "string",
  "job_title": "string",
  "gender": "female",
  "salary": 0
}
```
При пустом теле запроса или наличие полей не соответстующих модели будет возвращена соответствующая ошибка.
Поле `_id` явяется алиасом. Можно передавать просто `id`

**Пример: получить сотрудников с заданным id**
```json
{
    "id": "63e1d494a9e6d6ed8583654c"
}
```

По таким полям как `age`, `salary` можно делать запрос с условиями больше, меньше, больше или равно, 
меньше или равно, неравно.

**Пример: получить сотрудников с зарплатой больше чем 6000**
```json
{
  "salary": {"$gt": 6000}
}
```

**Возможные условные значения:**
```
  "$gt" - больше
  "$lt" - меньше
  "$gte" - больше или равно
  "$lte" - меньше или равно
  "$ne" - не равно
  "$eq" - равно
```
Если условные операторы не указаны, то по умолчанию используется `$eq`

Также условные операторы можно применять к полю `join_date`. Но если условный оператор не указан, то 
будут получены все сотрудники, которые были приняты на работу в течении суток от указанного `join_date`.
Т.е. `join_date + 1days`. Формат даты в запросе должен соответствовать формату `%Y-%m-%dT%H:%M:%S%z`

**Пример: запрос сотрудников устоившихся на работу после 2004-02-25**
```json
{
  "join_date": {"$gt": "2004-02-25T00:00:00-08:00"}
}
```

## 3. Docker

Для запуска docker-compose требуется:

*- Указать переменные среды:*
```
$MONGODB_USERNAME
$MONGODB_PASSWORD
```
*- Для первоначальной инициализации mongo наличие 
файла с данными `employees.json`  по пути:*
```
/test_task/mongodb-init/
```
*- Для запуска приложения наличие корректного 
конфигурационнного файла `config.yml` по пути:*
```
/test_task/configs/
```
